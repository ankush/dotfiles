procs:
  redis_cache:
    shell: "redis-server config/redis_cache.conf"
    stop: { send-keys: ["<C-c>"] }
  redis_queue:
    shell: "redis-server config/redis_queue.conf"
    stop: { send-keys: ["<C-c>"] }

  web:
    shell: "bench serve --port 8000"
    env:
      PYTHONUNBUFFERED: "true"
      DEV_SERVER: "true"
  gunicorn:
    shell: "gunicorn -b 127.0.0.1:8000 -w 3 --chdir /home/ankush/benches/develop/sites 'frappe.app:application_with_statics()' --preload"
    stop: { send-keys: ["<C-c>"] }
    autostart: false
    env:
      PYTHONUNBUFFERED: "true"

  socketio:
    shell: "node apps/frappe/socketio.js"

  watch:
    shell: "bench watch"
    autostart: false

  schedule:
    shell: "bench schedule"
    env:
      PYTHONUNBUFFERED: "true"
      DEV_SERVER: "true"
  worker:
    shell: "bench worker"
    stop: { send-keys: ["<C-c>"] }
    env:
      PYTHONUNBUFFERED: "true"
      DEV_SERVER: "true"
